# Assignment #A: å›¾è®ºï¼šç®—æ³•ï¼Œæ ‘ç®—åŠæ ˆ

Updated 2018 GMT+8 Apr 21, 2024

2024 spring, Complied by æ¨ä¹å±± 2100011502



**è¯´æ˜ï¼š**

1ï¼‰è¯·æŠŠæ¯ä¸ªé¢˜ç›®è§£é¢˜æ€è·¯ï¼ˆå¯é€‰ï¼‰ï¼Œæºç Python, æˆ–è€…C++ï¼ˆå·²ç»åœ¨Codeforces/Openjudgeä¸ŠACï¼‰ï¼Œæˆªå›¾ï¼ˆåŒ…å«Acceptedï¼‰ï¼Œå¡«å†™åˆ°ä¸‹é¢ä½œä¸šæ¨¡ç‰ˆä¸­ï¼ˆæ¨èä½¿ç”¨ typora https://typoraio.cn ï¼Œæˆ–è€…ç”¨wordï¼‰ã€‚AC æˆ–è€…æ²¡æœ‰ACï¼Œéƒ½è¯·æ ‡ä¸Šæ¯ä¸ªé¢˜ç›®å¤§è‡´èŠ±è´¹æ—¶é—´ã€‚

2ï¼‰æäº¤æ—¶å€™å…ˆæäº¤pdfæ–‡ä»¶ï¼Œå†æŠŠmdæˆ–è€…docæ–‡ä»¶ä¸Šä¼ åˆ°å³ä¾§â€œä½œä¸šè¯„è®ºâ€ã€‚Canvaséœ€è¦æœ‰åŒå­¦æ¸…æ™°å¤´åƒã€æäº¤æ–‡ä»¶æœ‰pdfã€"ä½œä¸šè¯„è®º"åŒºæœ‰ä¸Šä¼ çš„mdæˆ–è€…docé™„ä»¶ã€‚

3ï¼‰å¦‚æœä¸èƒ½åœ¨æˆªæ­¢å‰æäº¤ä½œä¸šï¼Œè¯·å†™æ˜åŸå› ã€‚



**ç¼–ç¨‹ç¯å¢ƒ**

æ“ä½œç³»ç»Ÿï¼šWindows 11 ä¸“ä¸šç‰ˆ 23H2 22631.3296

Pythonç¼–ç¨‹ç¯å¢ƒï¼šPyCharm 2023.3.5 (Professional Edition)



## 1. é¢˜ç›®

### 20743: æ•´äººçš„æè¯æœ¬

http://cs101.openjudge.cn/practice/20743/



æ€è·¯ï¼š

1. **Stack (æ ˆ) æ•°æ®ç»“æ„çš„ä½¿ç”¨**ï¼šä»£ç ä¸­ä½¿ç”¨äº†æ ˆæ¥å¤„ç†å­—ç¬¦ä¸²ä¸­çš„æ‹¬å·ã€‚æ ˆæ˜¯ä¸€ç§åè¿›å…ˆå‡ºï¼ˆLast In First Outï¼ŒLIFOï¼‰çš„æ•°æ®ç»“æ„ï¼Œè¿™ç§ç‰¹æ€§ä½¿å…¶éå¸¸é€‚åˆå¤„ç†æ‹¬å·åŒ¹é…é—®é¢˜ã€‚

2. **éå†å­—ç¬¦ä¸²**ï¼šä»£ç é€šè¿‡å¯¹å­—ç¬¦ä¸² `s` è¿›è¡Œéå†ï¼Œé€ä¸ªå¤„ç†æ¯ä¸ªå­—ç¬¦ã€‚

3. **æ‹¬å·åŒ¹é…**ï¼šå½“é‡åˆ°å·¦æ‹¬å· `(` æ—¶ï¼Œå°†å…¶å‹å…¥æ ˆä¸­ã€‚å½“é‡åˆ°å³æ‹¬å· `)` æ—¶ï¼Œå°†æ ˆä¸­çš„å…ƒç´ å‡ºæ ˆç›´åˆ°é‡åˆ°å·¦æ‹¬å· `(`ï¼Œè¿™æ ·å°±è·å¾—äº†æ‹¬å·å†…çš„å­—ç¬¦ã€‚ç„¶åå°†è¿™äº›å­—ç¬¦é€†åºæ’åˆ—ï¼Œå¹¶å°†å…¶é‡æ–°å‹å…¥æ ˆä¸­ã€‚

4. **è¾“å‡ºç»“æœ**ï¼šæœ€åå°†æ ˆä¸­çš„å­—ç¬¦è¿æ¥èµ·æ¥ï¼Œå¾—åˆ°æœ€ç»ˆç»“æœã€‚

```mermaid
graph TD;
    A[å¼€å§‹] --> B[éå†å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦];
    B --> |å­—ç¬¦| C{å­—ç¬¦æ˜¯å¦ä¸ºå³æ‹¬å·'ï¼‰'};
    C -->|æ˜¯| D[åˆ›å»ºä¸´æ—¶æ•°ç»„];
    C -->|å¦| E[å°†å­—ç¬¦å‹å…¥æ ˆ];
    D --> F[ä»æ ˆä¸­å¼¹å‡ºå­—ç¬¦ç›´åˆ°é‡åˆ°å·¦æ‹¬å· 'ï¼ˆ'];
    F --> G[å°†ä¸´æ—¶æ•°ç»„ä¸­çš„å­—ç¬¦é€†åºæ’åˆ—];
    G --> H[å°†é€†åºæ’åˆ—åçš„å­—ç¬¦å‹å…¥æ ˆ];
    H --> B;
    E --> B;
    B --> |å­—ç¬¦ä¸²ç»“æŸ| I[è¿æ¥æ ˆä¸­å­—ç¬¦];
    I --> J[è¾“å‡ºé€†åºå­—ç¬¦ä¸²];

```

è¿™ä¸ªå›¾è¡¨å±•ç¤ºäº†ä»£ç çš„æ‰§è¡Œæµç¨‹ã€‚åœ¨æ¯ä¸€æ­¥ï¼Œå®ƒä¼šæ£€æŸ¥å½“å‰å­—ç¬¦æ˜¯ä¸æ˜¯å³æ‹¬å·ï¼Œå¦‚æœæ˜¯ï¼Œå°±å°†æ ˆä¸­çš„å­—ç¬¦å–å‡ºç›´åˆ°é‡åˆ°å·¦æ‹¬å·ï¼Œç„¶åå°†è¿™äº›å­—ç¬¦é€†åºæ’åˆ—å¹¶é‡æ–°å‹å…¥æ ˆä¸­ã€‚æœ€ç»ˆï¼Œå®ƒå°†æ ˆä¸­çš„å­—ç¬¦è¿æ¥èµ·æ¥å¹¶è¾“å‡ºç»“æœã€‚

ä»£ç 

```python
def reverse_parentheses(s):
    stack = []
    for char in s:
        if char == ')':
            temp = []
            while stack and stack[-1] != '(':
                temp.append(stack.pop())
            # remove the opening parenthesis
            if stack:
                stack.pop()
            # add the reversed characters back to the stack
            stack.extend(temp)
        else:
            stack.append(char)
    return ''.join(stack)

# è¯»å–è¾“å…¥å¹¶å¤„ç†
s = input().strip()
print(reverse_parentheses(s))
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240430225124009](E:\BaiduSyncdisk\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°æ®ç»“æ„ä¸ç®—æ³•B\Assignments\AssignmentA\assignmentA.assets\image-20240430225124009.png)





### 02255: é‡å»ºäºŒå‰æ ‘

http://cs101.openjudge.cn/practice/02255/



æ€è·¯ï¼š

1. **é€’å½’æ„å»ºäºŒå‰æ ‘**ï¼šä»£ç ä¸­çš„ `build_tree` å‡½æ•°æ˜¯ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œç”¨äºæ„å»ºäºŒå‰æ ‘ã€‚å®ƒçš„å‚æ•°æ˜¯å‰åºéå†ç»“æœå’Œä¸­åºéå†ç»“æœï¼Œè¿”å›çš„æ˜¯ååºéå†ç»“æœã€‚

2. **ç¡®å®šæ ¹èŠ‚ç‚¹**ï¼šåœ¨æ¯æ¬¡é€’å½’è°ƒç”¨ä¸­ï¼Œé¦–å…ˆå–å‡ºå‰åºéå†çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºå½“å‰å­æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚

3. **æ ¹æ®æ ¹èŠ‚ç‚¹åˆ†å‰²ä¸­åºéå†ç»“æœ**ï¼šç„¶ååœ¨ä¸­åºéå†ç»“æœä¸­æ‰¾åˆ°æ ¹èŠ‚ç‚¹çš„ä½ç½®ï¼Œæ ¹æ®è¿™ä¸ªä½ç½®å°†ä¸­åºéå†ç»“æœåˆ†å‰²æˆå·¦å­æ ‘å’Œå³å­æ ‘çš„ä¸­åºéå†ç»“æœã€‚

4. **æ ¹æ®åˆ†å‰²åçš„ç»“æœé€’å½’æ„å»ºå·¦å³å­æ ‘**ï¼šæ ¹æ®ä¸­åºéå†ç»“æœçš„åˆ†å‰²ï¼Œå°†å‰åºéå†ç»“æœä¹Ÿç›¸åº”åœ°åˆ†å‰²æˆå·¦å­æ ‘å’Œå³å­æ ‘çš„å‰åºéå†ç»“æœï¼Œç„¶åé€’å½’æ„å»ºå·¦å³å­æ ‘ã€‚

5. **è¿”å›ååºéå†ç»“æœ**ï¼šæœ€åå°†å·¦å³å­æ ‘çš„ååºéå†ç»“æœå’Œæ ¹èŠ‚ç‚¹æ‹¼æ¥èµ·æ¥ï¼Œå½¢æˆå½“å‰å­æ ‘çš„ååºéå†ç»“æœï¼Œå¹¶è¿”å›ã€‚

ä»¥ä¸‹æ˜¯ä¸­æ–‡ Mermaid æµç¨‹å›¾ï¼š

```mermaid
graph TD;
    A[å¼€å§‹] --> B[æ„å»ºäºŒå‰æ ‘å‡½æ•°ï¼ˆbuild_treeï¼‰];
    B --> |å¦‚æœå‰åºéå†ä¸ºç©º| C[" "];
    B --> |å¦åˆ™| D[å–å‰åºéå†çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ ¹èŠ‚ç‚¹];
    D --> E[åœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°æ ¹èŠ‚ç‚¹ä½ç½®];
    E --> F[æ ¹æ®ä½ç½®åˆ†å‰²ä¸­åºéå†ç»“æœä¸ºå·¦å³å­æ ‘];
    F --> G[æ ¹æ®åˆ†å‰²åçš„ä¸­åºéå†ç»“æœåˆ†å‰²å‰åºéå†ç»“æœä¸ºå·¦å³å­æ ‘];
    G --> H[é€’å½’æ„å»ºå·¦å³å­æ ‘];
    H --> I[å°†å·¦å³å­æ ‘çš„ååºéå†ç»“æœä¸æ ¹èŠ‚ç‚¹æ‹¼æ¥];
    I --> J[è¿”å›å½“å‰å­æ ‘çš„ååºéå†ç»“æœ];
    J --> B;
    C --> K[ç»“æŸ];
    K --> L[è¾“å‡ºç»“æœ];
```

ä»£ç 

```python
def build_tree(preorder, inorder):
    if not preorder:
        return ''
    
    root = preorder[0]
    root_index = inorder.index(root)
    
    left_preorder = preorder[1:1 + root_index]
    right_preorder = preorder[1 + root_index:]
    
    left_inorder = inorder[:root_index]
    right_inorder = inorder[root_index + 1:]
    
    left_tree = build_tree(left_preorder, left_inorder)
    right_tree = build_tree(right_preorder, right_inorder)
    
    return left_tree + right_tree + root

while True:
    try:
        preorder, inorder = input().split()
        postorder = build_tree(preorder, inorder)
        print(postorder)
    except EOFError:
        break
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240430225426490](E:\BaiduSyncdisk\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°æ®ç»“æ„ä¸ç®—æ³•B\Assignments\AssignmentA\assignmentA.assets\image-20240430225426490.png)





### 01426: Find The Multiple

http://cs101.openjudge.cn/practice/01426/

è¦æ±‚ç”¨bfså®ç°



æ€è·¯ï¼š

1. **ä½¿ç”¨ BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰**ï¼šä»£ç ä½¿ç”¨äº†é˜Ÿåˆ—æ¥å®ç° BFSï¼Œä»è€Œé€å±‚æœç´¢æ»¡è¶³æ¡ä»¶çš„æ•°ã€‚

2. **åˆå§‹åŒ–é˜Ÿåˆ—**ï¼šå¼€å§‹æ—¶ï¼Œå°†åˆå§‹çŠ¶æ€ `(1 % n, "1")` åŠ å…¥é˜Ÿåˆ—ä¸­ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ¨¡ n çš„å€¼ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯å¯¹åº”çš„æ•°å­—å­—ç¬¦ä¸²ã€‚

3. **è®°å½•å·²è®¿é—®çš„æ¨¡ n å€¼**ï¼šä½¿ç”¨é›†åˆ `visited` è®°å½•å·²ç»è®¿é—®è¿‡çš„æ¨¡ n çš„å€¼ï¼Œä»¥é¿å…é‡å¤æœç´¢ã€‚

4. **BFS è¿‡ç¨‹**ï¼šåœ¨æ¯ä¸€è½®ä¸­ï¼Œä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªå…ƒç´  `(mod, num_str)`ï¼Œå…¶ä¸­ `mod` æ˜¯å½“å‰æ•°å­—çš„æ¨¡ n å€¼ï¼Œ`num_str` æ˜¯å¯¹åº”çš„æ•°å­—å­—ç¬¦ä¸²ã€‚

5. **æ£€æŸ¥æ˜¯å¦æ‰¾åˆ°ç­”æ¡ˆ**ï¼šå¦‚æœ `mod` ä¸º 0ï¼Œè¡¨ç¤ºæ‰¾åˆ°äº†æ»¡è¶³æ¡ä»¶çš„æ•°ï¼Œå³ `num_str`ï¼Œç›´æ¥è¿”å›ã€‚

6. **ç”Ÿæˆæ–°çš„æ•°å­—å¹¶è®¡ç®—æ¨¡ n å€¼**ï¼šå°è¯•åœ¨å½“å‰æ•°å­—çš„åé¢åŠ ä¸Š 0 æˆ– 1ï¼Œç”Ÿæˆæ–°çš„æ•°å­—ï¼Œå¹¶è®¡ç®—å…¶æ¨¡ n çš„å€¼ã€‚

7. **åˆ¤æ–­æ˜¯å¦è®¿é—®è¿‡**ï¼šå¦‚æœæ–°çš„æ¨¡ n å€¼æ²¡æœ‰è®¿é—®è¿‡ï¼Œåˆ™å°†æ–°çš„çŠ¶æ€ `(new_mod, new_num_str)` åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶å°†æ–°çš„æ¨¡ n å€¼åŠ å…¥åˆ° `visited` ä¸­ã€‚

8. **é‡å¤ä»¥ä¸Šæ­¥éª¤**ï¼šé‡å¤æ‰§è¡Œä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„æ•°ä¸ºæ­¢ã€‚

ä»¥ä¸‹æ˜¯ä¸­æ–‡ Mermaid æµç¨‹å›¾ï¼š

```mermaid
graph TD;
    A[å¼€å§‹] --> B[ä¸»å‡½æ•°ï¼ˆmainï¼‰];
    B --> |è¯»å–è¾“å…¥n| C[åˆå§‹åŒ–é˜Ÿåˆ—];
    C --> D[å°†ï¼ˆ1 % n, â€œ1â€ï¼‰åŠ å…¥é˜Ÿåˆ—];
    D --> E[åˆå§‹åŒ–è®¿é—®é›†åˆvisited];
    E --> F[å¾ªç¯ç›´åˆ°nä¸º0];
    F --> G[å–é˜Ÿé¦–å…ƒç´ ï¼ˆmod, num_strï¼‰];
    G --> |æ¨¡nå€¼ä¸º0| H[è¾“å‡ºnum_strä¸ºç­”æ¡ˆ];
    G --> I[å°è¯•åŠ 0æˆ–1ç”Ÿæˆæ–°æ•°å­—];
    I --> J[è®¡ç®—æ–°æ•°å­—çš„æ¨¡nå€¼];
    J --> |æ¨¡nå€¼æœªè®¿é—®è¿‡| K[åŠ å…¥é˜Ÿåˆ—å¹¶è®°å½•æ¨¡nå€¼];
    K --> F;
    H --> F;
    F --> L[ç»“æŸ];
    L --> M[è¾“å‡ºç»“æœ];
```



ä»£ç 

```python
from collections import deque

def find_multiple(n):
    # ä½¿ç”¨é˜Ÿåˆ—å®ç°BFS
    q = deque()
    # åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œå­˜å‚¨çš„æ˜¯(æ¨¡nå€¼, å¯¹åº”çš„æ•°å­—å­—ç¬¦ä¸²)
    q.append((1 % n, "1"))
    visited = set([1 % n])  # ç”¨äºè®°å½•è®¿é—®è¿‡çš„æ¨¡nå€¼ï¼Œé¿å…é‡å¤æœç´¢

    while q:
        mod, num_str = q.popleft()

        # æ£€æŸ¥å½“å‰æ¨¡nå€¼æ˜¯å¦ä¸º0ï¼Œæ˜¯åˆ™æ‰¾åˆ°ç­”æ¡ˆ
        if mod == 0:
            return num_str

        # å°è¯•åœ¨å½“å‰æ•°å­—ååŠ 0æˆ–åŠ 1ï¼Œç”Ÿæˆæ–°çš„æ•°å­—ï¼Œå¹¶è®¡ç®—æ¨¡nå€¼
        for digit in ["0", "1"]:
            new_num_str = num_str + digit
            new_mod = (mod * 10 + int(digit)) % n

            # å¦‚æœæ–°æ¨¡nå€¼æœªè®¿é—®è¿‡ï¼Œåˆ™åŠ å…¥é˜Ÿåˆ—ç»§ç»­æœç´¢
            if new_mod not in visited:
                q.append((new_mod, new_num_str))
                visited.add(new_mod)

def main():
    while True:
        n = int(input())
        if n == 0:
            break
        print(find_multiple(n))

if __name__ == "__main__":
    main()
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240430225707280](E:\BaiduSyncdisk\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°æ®ç»“æ„ä¸ç®—æ³•B\Assignments\AssignmentA\assignmentA.assets\image-20240430225707280.png)





### 04115: é¸£äººå’Œä½åŠ©

bfs, http://cs101.openjudge.cn/practice/04115/



æ€è·¯ï¼š

è¿™æ®µä»£ç å®ç°äº†ä¸€ä¸ªå¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼Œç”¨äºåœ¨ç»™å®šçš„ç½‘æ ¼ä¸­æ‰¾åˆ°ä»èµ·ç‚¹åˆ°ç›®æ ‡ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚

1. **å¯¼å…¥æ¨¡å—**ï¼šä»£ç ä½¿ç”¨äº† `deque` æ¨¡å—æ¥å®ç°é˜Ÿåˆ—æ•°æ®ç»“æ„ã€‚

2. **å®šä¹‰å‡½æ•°**ï¼š`bfs(grid, start, target, chakra)` å‡½æ•°ç”¨äºæ‰§è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚

3. **åˆå§‹åŒ–å˜é‡**ï¼šå®šä¹‰äº† `directions` åˆ—è¡¨æ¥è¡¨ç¤ºå››ä¸ªæ–¹å‘ä¸Šçš„ç§»åŠ¨ï¼Œä»¥åŠè·å–ç½‘æ ¼çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚

4. **åˆå§‹åŒ–é˜Ÿåˆ—**ï¼šä½¿ç”¨ `deque` åˆ›å»ºä¸€ä¸ªç©ºé˜Ÿåˆ—ï¼Œå¹¶å°†èµ·å§‹ç‚¹ `(start, chakra, 0)` åŠ å…¥é˜Ÿåˆ—ï¼Œå…¶ä¸­ `start` æ˜¯èµ·å§‹ç‚¹çš„åæ ‡ï¼Œ`chakra` æ˜¯å½“å‰å‰©ä½™çš„èƒ½é‡ï¼Œ`0` æ˜¯åˆå§‹æ—¶é—´ã€‚

5. **BFS è¿‡ç¨‹**ï¼šåœ¨æ¯æ¬¡å¾ªç¯ä¸­ï¼Œä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªå…ƒç´  `(x, y)`ï¼Œè¡¨ç¤ºå½“å‰ä½ç½®çš„åæ ‡ï¼Œ`chakra` è¡¨ç¤ºå½“å‰å‰©ä½™çš„èƒ½é‡ï¼Œ`time` è¡¨ç¤ºåˆ°è¾¾å½“å‰ä½ç½®æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚

6. **æ£€æŸ¥æ˜¯å¦åˆ°è¾¾ç›®æ ‡**ï¼šå¦‚æœå½“å‰ä½ç½® `(x, y)` ç­‰äºç›®æ ‡ç‚¹ `target`ï¼Œåˆ™è¿”å›å½“å‰æ—¶é—´ `time`ã€‚

7. **æ‰©å±•èŠ‚ç‚¹**ï¼šå¯¹å½“å‰èŠ‚ç‚¹çš„å››ä¸ªç›¸é‚»èŠ‚ç‚¹è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœç›¸é‚»èŠ‚ç‚¹æ˜¯åˆæ³•çš„ä¸”æœªè¢«è®¿é—®è¿‡ï¼Œåˆ™å°†å…¶åŠ å…¥é˜Ÿåˆ—ä¸­ã€‚

8. **æ›´æ–°å‰©ä½™èƒ½é‡å’Œæ—¶é—´**ï¼šæ ¹æ®å½“å‰ä½ç½®çš„æƒ…å†µï¼Œæ›´æ–°å‰©ä½™èƒ½é‡å’Œæ—¶é—´ã€‚

9. **è¿”å›ç»“æœ**ï¼šå¦‚æœæœç´¢å®Œæ•´ä¸ªç½‘æ ¼ä»æœªæ‰¾åˆ°è·¯å¾„ï¼Œåˆ™è¿”å› `-1`ã€‚

ä»¥ä¸‹æ˜¯ä¸­æ–‡ Mermaid æµç¨‹å›¾ï¼š

```mermaid
graph TD;
    A[å¼€å§‹] --> B[å®šä¹‰å‡½æ•°bfs];
    B --> C[åˆå§‹åŒ–å˜é‡];
    C --> D[å®šä¹‰å››ä¸ªæ–¹å‘];
    D --> E[è·å–ç½‘æ ¼çš„è¡Œæ•°å’Œåˆ—æ•°];
    E --> F[åˆå§‹åŒ–é˜Ÿåˆ—];
    F --> G[å¼€å§‹BFSå¾ªç¯];
    G --> H[å–é˜Ÿé¦–å…ƒç´ ï¼ˆx, y, chakra, timeï¼‰];
    H --> |æ˜¯å¦åˆ°è¾¾ç›®æ ‡| I[è¿”å›å½“å‰æ—¶é—´];
    H --> J[æ‰©å±•èŠ‚ç‚¹];
    J --> K[å¯¹å››ä¸ªç›¸é‚»èŠ‚ç‚¹è¿›è¡Œæ£€æŸ¥];
    K --> |èŠ‚ç‚¹åˆæ³•ä¸”æœªè®¿é—®| L[åŠ å…¥é˜Ÿåˆ—];
    L --> M[æ›´æ–°å‰©ä½™èƒ½é‡å’Œæ—¶é—´];
    M --> G;
    I --> N[ç»“æŸ];
    N --> O[è¾“å‡ºç»“æœ];
```



ä»£ç 

```python
from collections import deque

def bfs(grid, start, target, chakra):
    directions = [(0, 1), (0, -1), (1, 0), (-1, 0)]
    m, n = len(grid), len(grid[0])
    visited = set()
    queue = deque([(start, chakra, 0)])  # (position, remaining chakra, time)
    
    while queue:
        (x, y), chakra, time = queue.popleft()
        if (x, y) == target:
            return time
        
        for dx, dy in directions:
            nx, ny = x + dx, y + dy
            if 0 <= nx < m and 0 <= ny < n and grid[nx][ny] != '#':
                if grid[nx][ny] == '+':  # If the target is encountered, return time
                    return time + 1
                if (nx, ny, chakra) not in visited:
                    visited.add((nx, ny, chakra))
                    if grid[nx][ny] == '#' and chakra > 0:
                        queue.append(((nx, ny), chakra - 1, time + 1))
                    elif grid[nx][ny] == '*':
                        queue.append(((nx, ny), chakra, time + 1))
    return -1  # If no path is found

# Example usage:
M, N, T = map(int, input().split())
grid = [input() for _ in range(M)]
start, target = None, None

for i in range(M):
    for j in range(N):
        if grid[i][j] == '@':
            start = (i, j)
        elif grid[i][j] == '+':
            target = (i, j)

result = bfs(grid, start, target, T)
print(result)
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240430230430010](E:\BaiduSyncdisk\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°æ®ç»“æ„ä¸ç®—æ³•B\Assignments\AssignmentA\assignmentA.assets\image-20240430230430010.png)





### 20106: èµ°å±±è·¯

Dijkstra, http://cs101.openjudge.cn/practice/20106/



æ€è·¯ï¼š

1. **å¯¼å…¥æ¨¡å—**ï¼šä»£ç ä½¿ç”¨äº† `deque` æ¨¡å—æ¥å®ç°é˜Ÿåˆ—æ•°æ®ç»“æ„ã€‚

2. **å®šä¹‰å‡½æ•°**ï¼š`bfs(grid, start, target)` å‡½æ•°ç”¨äºæ‰§è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚

3. **åˆå§‹åŒ–å˜é‡**ï¼šå®šä¹‰äº† `directions` åˆ—è¡¨æ¥è¡¨ç¤ºå››ä¸ªæ–¹å‘ä¸Šçš„ç§»åŠ¨ï¼Œä»¥åŠè·å–ç½‘æ ¼çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚

4. **åˆå§‹åŒ–é˜Ÿåˆ—**ï¼šä½¿ç”¨ `deque` åˆ›å»ºä¸€ä¸ªç©ºé˜Ÿåˆ—ï¼Œå¹¶å°†èµ·å§‹ç‚¹ `(start, 0)` åŠ å…¥é˜Ÿåˆ—ï¼Œå…¶ä¸­ `start` æ˜¯èµ·å§‹ç‚¹çš„åæ ‡ï¼Œ`0` æ˜¯åˆå§‹èƒ½é‡æ¶ˆè€—ã€‚

5. **BFS è¿‡ç¨‹**ï¼šåœ¨æ¯æ¬¡å¾ªç¯ä¸­ï¼Œä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªå…ƒç´  `(x, y)`ï¼Œè¡¨ç¤ºå½“å‰ä½ç½®çš„åæ ‡ï¼Œ`energy` è¡¨ç¤ºåˆ°è¾¾å½“å‰ä½ç½®çš„èƒ½é‡æ¶ˆè€—ã€‚

6. **æ£€æŸ¥æ˜¯å¦åˆ°è¾¾ç›®æ ‡**ï¼šå¦‚æœå½“å‰ä½ç½® `(x, y)` ç­‰äºç›®æ ‡ç‚¹ `target`ï¼Œåˆ™è¿”å›å½“å‰èƒ½é‡æ¶ˆè€— `energy`ã€‚

7. **æ‰©å±•èŠ‚ç‚¹**ï¼šå¯¹å½“å‰èŠ‚ç‚¹çš„å››ä¸ªç›¸é‚»èŠ‚ç‚¹è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœç›¸é‚»èŠ‚ç‚¹æ˜¯åˆæ³•çš„ä¸”æœªè¢«è®¿é—®è¿‡ï¼Œåˆ™å°†å…¶åŠ å…¥é˜Ÿåˆ—ä¸­ã€‚

8. **è®¡ç®—æ–°çš„èƒ½é‡æ¶ˆè€—**ï¼šæ ¹æ®å½“å‰ä½ç½®å’Œç›¸é‚»ä½ç½®çš„é«˜åº¦å·®è®¡ç®—æ–°çš„èƒ½é‡æ¶ˆè€—ã€‚

9. **æ›´æ–°è®¿é—®é›†åˆ**ï¼šå°†å½“å‰èŠ‚ç‚¹æ ‡è®°ä¸ºå·²è®¿é—®ã€‚

10. **è¿”å›ç»“æœ**ï¼šå¦‚æœæœç´¢å®Œæ•´ä¸ªç½‘æ ¼ä»æœªæ‰¾åˆ°è·¯å¾„ï¼Œåˆ™è¿”å›æ— ç©·å¤§ã€‚

11. **è§£æè¾“å…¥å¹¶è°ƒç”¨å‡½æ•°**ï¼šæ ¹æ®è¾“å…¥è§£æç½‘æ ¼å’ŒæŸ¥è¯¢ï¼Œç„¶åè°ƒç”¨ `find_min_energy` å‡½æ•°è·å–ç»“æœã€‚

ä»¥ä¸‹æ˜¯ä¸­æ–‡ Mermaid æµç¨‹å›¾ï¼š

```mermaid
graph TD;
    A[å¼€å§‹] --> B[å®šä¹‰å‡½æ•°bfs];
    B --> C[åˆå§‹åŒ–å˜é‡];
    C --> D[å®šä¹‰å››ä¸ªæ–¹å‘];
    D --> E[è·å–ç½‘æ ¼çš„è¡Œæ•°å’Œåˆ—æ•°];
    E --> F[åˆå§‹åŒ–é˜Ÿåˆ—];
    F --> G[å¼€å§‹BFSå¾ªç¯];
    G --> H[å–é˜Ÿé¦–å…ƒç´ ï¼ˆx, y, energyï¼‰];
    H --> |æ˜¯å¦åˆ°è¾¾ç›®æ ‡| I[è¿”å›å½“å‰èƒ½é‡æ¶ˆè€—];
    H --> J[æ‰©å±•èŠ‚ç‚¹];
    J --> K[å¯¹å››ä¸ªç›¸é‚»èŠ‚ç‚¹è¿›è¡Œæ£€æŸ¥];
    K --> |èŠ‚ç‚¹åˆæ³•ä¸”æœªè®¿é—®| L[åŠ å…¥é˜Ÿåˆ—];
    L --> M[è®¡ç®—æ–°çš„èƒ½é‡æ¶ˆè€—];
    M --> N[æ›´æ–°è®¿é—®é›†åˆ];
    N --> G;
    I --> O[ç»“æŸ];
    O --> P[è¾“å‡ºç»“æœ];
```



ä»£ç 

```python
from collections import deque

def bfs(grid, start, target):
    directions = [(0, 1), (0, -1), (1, 0), (-1, 0)]
    m, n = len(grid), len(grid[0])
    visited = set()
    queue = deque([(start, 0)])  # (position, energy)
    
    while queue:
        (x, y), energy = queue.popleft()
        if (x, y) == target:
            return energy
        
        for dx, dy in directions:
            nx, ny = x + dx, y + dy
            if 0 <= nx < m and 0 <= ny < n and grid[nx][ny] != '#':
                new_energy = energy + abs(grid[nx][ny] - grid[x][y])
                if (nx, ny) not in visited:
                    visited.add((nx, ny))
                    queue.append(((nx, ny), new_energy))
    return float('inf')  # If no path is found

# Example usage:
def find_min_energy(m, n, grid, queries):
    results = []
    for i in range(len(queries)):
        start_row, start_col, target_row, target_col = queries[i]
        start = (start_row, start_col)
        target = (target_row, target_col)
        result = bfs(grid, start, target)
        if result == float('inf'):
            results.append("NO")
        else:
            results.append(result)
    return results

# Example input parsing:
m, n, p = map(int, input().split())
grid = [list(map(int, input().split())) for _ in range(m)]
queries = [list(map(int, input().split())) for _ in range(p)]

# Example usage:
output = find_min_energy(m, n, grid, queries)
for result in output:
    print(result)
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240430230753526](E:\BaiduSyncdisk\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°æ®ç»“æ„ä¸ç®—æ³•B\Assignments\AssignmentA\assignmentA.assets\image-20240430230753526.png)





### 05442: å…”å­ä¸æ˜Ÿç©º

Prim, http://cs101.openjudge.cn/practice/05442/



æ€è·¯ï¼š

è¿™æ®µä»£ç å®ç°äº† Prim ç®—æ³•æ¥è®¡ç®—æœ€å°ç”Ÿæˆæ ‘çš„æƒé‡ä¹‹å’Œã€‚è®©æˆ‘è§£é‡Šä¸€ä¸‹ä»£ç çš„å·¥ä½œåŸç†ï¼Œå¹¶æä¾›ä¸­æ–‡ Mermaid æµç¨‹å›¾ã€‚

1. **å¯¼å…¥æ¨¡å—**ï¼šä»£ç ä½¿ç”¨äº† `heapq` æ¨¡å—æ¥å®ç°å †ç»“æ„ã€‚

2. **å®šä¹‰ Prim ç®—æ³•å‡½æ•°**ï¼š`prim(graph, start)` å‡½æ•°ç”¨äºæ‰§è¡Œ Prim ç®—æ³•æ¥ç”Ÿæˆæœ€å°ç”Ÿæˆæ ‘ã€‚

3. **åˆå§‹åŒ–å˜é‡**ï¼šå®šä¹‰äº† `mst` åˆ—è¡¨æ¥å­˜å‚¨æœ€å°ç”Ÿæˆæ ‘çš„è¾¹ï¼Œ`used` é›†åˆç”¨äºè®°å½•å·²ç»åŠ å…¥æœ€å°ç”Ÿæˆæ ‘çš„èŠ‚ç‚¹ï¼Œ`edges` å †åˆ—è¡¨ç”¨äºå­˜å‚¨å€™é€‰è¾¹ã€‚

4. **åˆå§‹åŒ–å †**ï¼šå°†èµ·å§‹èŠ‚ç‚¹ `start` å¯¹åº”çš„è¾¹åŠ å…¥å †ä¸­ã€‚

5. **Prim ç®—æ³•ä¸»å¾ªç¯**ï¼šåœ¨æ¯æ¬¡å¾ªç¯ä¸­ï¼Œä»å †ä¸­å–å‡ºä»£ä»·æœ€å°çš„è¾¹ï¼Œå¦‚æœè¾¹è¿æ¥çš„èŠ‚ç‚¹ `to` ä¸åœ¨å·²ç»åŠ å…¥æœ€å°ç”Ÿæˆæ ‘çš„èŠ‚ç‚¹é›†åˆä¸­ï¼Œåˆ™å°†è¿™æ¡è¾¹åŠ å…¥æœ€å°ç”Ÿæˆæ ‘ï¼Œå¹¶å°†è¿æ¥çš„èŠ‚ç‚¹æ ‡è®°ä¸ºå·²ä½¿ç”¨ï¼Œç„¶åå°†è¿æ¥èŠ‚ç‚¹çš„æœªåŠ å…¥æœ€å°ç”Ÿæˆæ ‘çš„ç›¸é‚»è¾¹åŠ å…¥å †ä¸­ã€‚

6. **è¿”å›ç»“æœ**ï¼šæœ€ç»ˆè¿”å›æœ€å°ç”Ÿæˆæ ‘çš„è¾¹é›†åˆ `mst`ã€‚

7. **è§£æè¾“å…¥å¹¶è°ƒç”¨å‡½æ•°**ï¼šæ ¹æ®è¾“å…¥è§£æå›¾çš„ç»“æ„ï¼Œå¹¶è°ƒç”¨ `solve` å‡½æ•°è¿›è¡Œæ±‚è§£ã€‚

ä»¥ä¸‹æ˜¯ä¸­æ–‡ Mermaid æµç¨‹å›¾ï¼š

```mermaid
graph TD;
    A[å¼€å§‹] --> B[å®šä¹‰å‡½æ•°prim];
    B --> C[åˆå§‹åŒ–å˜é‡];
    C --> D[åˆå§‹åŒ–å †];
    D --> E[å¼€å§‹Primç®—æ³•å¾ªç¯];
    E --> F[å–å †é¡¶å…ƒç´ ï¼ˆcost, frm, toï¼‰];
    F --> |èŠ‚ç‚¹æœªä½¿ç”¨| G[åŠ å…¥æœ€å°ç”Ÿæˆæ ‘];
    G --> H[æ ‡è®°èŠ‚ç‚¹ä¸ºå·²ä½¿ç”¨];
    H --> I[å°†ç›¸é‚»è¾¹åŠ å…¥å †];
    I --> E;
    F --> |èŠ‚ç‚¹å·²ä½¿ç”¨| J[å¿½ç•¥è¯¥è¾¹];
    J --> E;
    E --> K[è¿”å›æœ€å°ç”Ÿæˆæ ‘è¾¹é›†åˆ];
    K --> L[ç»“æŸ];
    L --> M[è¾“å‡ºç»“æœ];
```

è¿™ä¸ªæµç¨‹å›¾æè¿°äº†ä»£ç çš„æ‰§è¡Œæµç¨‹ï¼Œä½¿ç”¨äº†ä¸­æ–‡æ¥è¯´æ˜æ¯ä¸ªæ­¥éª¤ã€‚

ä»£ç 

```python
import heapq

def prim(graph, start):
    mst = []
    used = set([start])
    edges = [
        (cost, start, to)
        for to, cost in graph[start].items()
    ]
    heapq.heapify(edges)

    while edges:
        cost, frm, to = heapq.heappop(edges)
        if to not in used:
            used.add(to)
            mst.append((frm, to, cost))
            for to_next, cost2 in graph[to].items():
                if to_next not in used:
                    heapq.heappush(edges, (cost2, to, to_next))

    return mst

def solve():
    n = int(input())
    graph = {chr(i+65): {} for i in range(n)}
    for i in range(n-1):
        data = input().split()
        star = data[0]
        m = int(data[1])
        for j in range(m):
            to_star = data[2+j*2]
            cost = int(data[3+j*2])
            graph[star][to_star] = cost
            graph[to_star][star] = cost
    mst = prim(graph, 'A')
    print(sum(x[2] for x in mst))

solve()
```



ä»£ç è¿è¡Œæˆªå›¾ 

![image-20240430231008129](E:\BaiduSyncdisk\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°æ®ç»“æ„ä¸ç®—æ³•B\Assignments\AssignmentA\assignmentA.assets\image-20240430231008129.png)



## 2. å­¦ä¹ æ€»ç»“å’Œæ”¶è·

ä½œä¸šè®©æˆ‘ä»äº”ä¸€å‡æœŸä¸­ä¸å¾—ä¸å†æ¬¡æ¡èµ·æ•°ç®—è¿›è¡Œä¸€æ³¢æ¸©ä¹ ğŸ¥¹
