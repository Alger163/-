# Assignment #7: April æœˆè€ƒ

Updated 1557 GMT+8 Apr 3, 2024

2024 spring, Complied by æ¨ä¹å±± 2100011502



**è¯´æ˜ï¼š**

1ï¼‰è¯·æŠŠæ¯ä¸ªé¢˜ç›®è§£é¢˜æ€è·¯ï¼ˆå¯é€‰ï¼‰ï¼Œæºç Python, æˆ–è€…C++ï¼ˆå·²ç»åœ¨Codeforces/Openjudgeä¸ŠACï¼‰ï¼Œæˆªå›¾ï¼ˆåŒ…å«Acceptedï¼‰ï¼Œå¡«å†™åˆ°ä¸‹é¢ä½œä¸šæ¨¡ç‰ˆä¸­ï¼ˆæ¨èä½¿ç”¨ typora https://typoraio.cn ï¼Œæˆ–è€…ç”¨wordï¼‰ã€‚AC æˆ–è€…æ²¡æœ‰ACï¼Œéƒ½è¯·æ ‡ä¸Šæ¯ä¸ªé¢˜ç›®å¤§è‡´èŠ±è´¹æ—¶é—´ã€‚

2ï¼‰æäº¤æ—¶å€™å…ˆæäº¤pdfæ–‡ä»¶ï¼Œå†æŠŠmdæˆ–è€…docæ–‡ä»¶ä¸Šä¼ åˆ°å³ä¾§â€œä½œä¸šè¯„è®ºâ€ã€‚Canvaséœ€è¦æœ‰åŒå­¦æ¸…æ™°å¤´åƒã€æäº¤æ–‡ä»¶æœ‰pdfã€"ä½œä¸šè¯„è®º"åŒºæœ‰ä¸Šä¼ çš„mdæˆ–è€…docé™„ä»¶ã€‚

3ï¼‰å¦‚æœä¸èƒ½åœ¨æˆªæ­¢å‰æäº¤ä½œä¸šï¼Œè¯·å†™æ˜åŸå› ã€‚



**ç¼–ç¨‹ç¯å¢ƒ**

æ“ä½œç³»ç»Ÿï¼šWindows 11 ä¸“ä¸šç‰ˆ 23H2 22631.3296

Pythonç¼–ç¨‹ç¯å¢ƒï¼šPyCharm 2023.3.5 (Professional Edition)



## 1. é¢˜ç›®

### 27706: é€è¯å€’æ”¾

http://cs101.openjudge.cn/practice/27706/



æ€è·¯ï¼š

1. **è¯»å–è¾“å…¥ï¼š** ä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€è¡Œå¥å­ã€‚
2. **åˆ†å‰²å¥å­ï¼š** å°†å¥å­æŒ‰ç©ºæ ¼åˆ†å‰²æˆå•è¯åˆ—è¡¨ã€‚
3. **åè½¬å•è¯åˆ—è¡¨ï¼š** å°†å•è¯åˆ—è¡¨è¿›è¡Œåè½¬æ“ä½œã€‚
4. **é‡æ–°ç»„åˆå¥å­ï¼š** å°†åè½¬åçš„å•è¯åˆ—è¡¨é‡æ–°ç»„åˆæˆå¥å­ã€‚
5. **è¾“å‡ºç»“æœï¼š** å°†é‡æ–°ç»„åˆçš„å¥å­è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚

```mermaid
graph TD;
    A[è¾“å…¥å¥å­] --> B(æŒ‰ç©ºæ ¼åˆ†å‰²å¥å­æˆå•è¯åˆ—è¡¨)
    B --> C(åè½¬å•è¯åˆ—è¡¨)
    C --> D(é‡æ–°ç»„åˆæˆå¥å­)
    D --> E[è¾“å‡ºåè½¬åçš„å¥å­]

```





ä»£ç 

```python
def reverse_sentence(sentence):
    words = sentence.split()  # å°†å¥å­æŒ‰ç©ºæ ¼åˆ†å‰²æˆå•è¯åˆ—è¡¨
    reversed_words = words[::-1]  # åè½¬å•è¯åˆ—è¡¨
    reversed_sentence = ' '.join(reversed_words)  # å°†åè½¬åçš„å•è¯åˆ—è¡¨é‡æ–°ç»„åˆæˆå¥å­
    return reversed_sentence

# è¯»å–è¾“å…¥
input_sentence = input().strip()

# è°ƒç”¨å‡½æ•°å¹¶è¾“å‡ºç»“æœ
print(reverse_sentence(input_sentence))
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240409223317681](E:\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°ç®—B\Assignments\assignment7\assignment7.assets\image-20240409223317681.png)





### 27951: æœºå™¨ç¿»è¯‘

http://cs101.openjudge.cn/practice/27951/



æ€è·¯ï¼š

1. **åˆå§‹åŒ–å†…å­˜å’Œè®¡æ•°å™¨ï¼š** åˆ›å»ºä¸€ä¸ªç©ºé˜Ÿåˆ—ï¼ˆæ¨¡æ‹Ÿå†…å­˜ï¼‰å’Œä¸€ä¸ªè®¡æ•°å™¨ï¼ˆè®°å½•å­—å…¸æŸ¥æ‰¾æ¬¡æ•°ï¼‰ã€‚

2. éå†æ–‡ç« å•è¯ï¼š

    å¯¹äºæ–‡ç« ä¸­çš„æ¯ä¸ªå•è¯ï¼Œä¾æ¬¡æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

   - æ£€æŸ¥å•è¯æ˜¯å¦åœ¨å†…å­˜ä¸­ã€‚
   - å¦‚æœå•è¯ä¸åœ¨å†…å­˜ä¸­ï¼š
     - å¢åŠ å­—å…¸æŸ¥æ‰¾æ¬¡æ•°ã€‚
     - å¦‚æœå†…å­˜å·²æ»¡ï¼Œå¼¹å‡ºé˜Ÿåˆ—å¤´éƒ¨çš„å•è¯ã€‚
     - å°†æ–°å•è¯åŠ å…¥å†…å­˜é˜Ÿåˆ—çš„å°¾éƒ¨ã€‚

3. **è¾“å‡ºç»“æœï¼š** è¾“å‡ºå­—å…¸æŸ¥æ‰¾æ¬¡æ•°ã€‚

```mermaid
graph TD;
    A[è¯»å–è¾“å…¥] --> B(åˆå§‹åŒ–å†…å­˜é˜Ÿåˆ—)
    B --> C(åˆå§‹åŒ–å­—å…¸æŸ¥æ‰¾æ¬¡æ•°)
    C --> D(éå†æ–‡ç« å•è¯)
    D --> E{å•è¯æ˜¯å¦åœ¨å†…å­˜ä¸­ï¼Ÿ}
    E -- æ˜¯ --> F(å¢åŠ å­—å…¸æŸ¥æ‰¾æ¬¡æ•°)
    F --> G{å†…å­˜æ˜¯å¦å·²æ»¡ï¼Ÿ}
    G -- æ˜¯ --> H(å¼¹å‡ºé˜Ÿåˆ—å¤´éƒ¨å•è¯)
    H --> I(å°†æ–°å•è¯åŠ å…¥é˜Ÿåˆ—å°¾éƒ¨)
    G -- å¦ --> I
    E -- å¦ --> I
    I --> D
    D --> J{éå†ç»“æŸï¼Ÿ}
    J -- æ˜¯ --> K(è¾“å‡ºå­—å…¸æŸ¥æ‰¾æ¬¡æ•°)
    J -- å¦ --> D

```





ä»£ç 

```python
from collections import deque

def translate(M, N, words):
    memory = deque()
    dictionary_lookups = 0

    for word in words:
        if word not in memory:
            dictionary_lookups += 1
            if len(memory) == M:
                memory.popleft()
            memory.append(word)

    return dictionary_lookups

# è¯»å–è¾“å…¥
M, N = map(int, input().split())
words = list(map(int, input().split()))

# è°ƒç”¨å‡½æ•°å¹¶è¾“å‡ºç»“æœ
print(translate(M, N, words))
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240409223715053](E:\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°ç®—B\Assignments\assignment7\assignment7.assets\image-20240409223715053.png)





### 27932: Less or Equal

http://cs101.openjudge.cn/practice/27932/



æ€è·¯ï¼š

1. è¯»å–è¾“å…¥çš„æ•´æ•° n å’Œ kï¼Œä»¥åŠæ•´æ•°åºåˆ— numsã€‚
2. å¯¹ nums è¿›è¡Œæ’åºï¼Œä»¥ä¾¿åç»­æ“ä½œã€‚
3. æ ¹æ®é¢˜ç›®ä¸­ç»™å‡ºçš„æ¡ä»¶è¿›è¡Œåˆ†ç±»è®¨è®ºï¼š
   - å¦‚æœ n ç­‰äº kï¼Œè¯´æ˜åºåˆ—ä¸­æ‰€æœ‰å…ƒç´ éƒ½å°äºæˆ–ç­‰äºæœ€å¤§å€¼ï¼Œå› æ­¤è¾“å‡ºåºåˆ—ä¸­çš„ç¬¬ k ä¸ªå…ƒç´ å³å¯ã€‚
   - å¦‚æœ k ç­‰äº 0ï¼Œè¯´æ˜è¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äº 1 çš„å…ƒç´ ï¼Œå¦‚æœåºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¤§äº 1ï¼Œåˆ™è¾“å‡º 1ï¼Œå¦åˆ™è¾“å‡º -1ã€‚
   - å¦‚æœåºåˆ—ä¸­ç¬¬ k ä¸ªå…ƒç´ ä¸ç¬¬ k-1 ä¸ªå…ƒç´ ä¸ç›¸ç­‰ï¼Œåˆ™è¾“å‡ºç¬¬ k ä¸ªå…ƒç´ ã€‚
   - å¦‚æœåºåˆ—ä¸­ç¬¬ k ä¸ªå…ƒç´ ä¸ç¬¬ k-1 ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™è¯´æ˜æœ‰å¤šä¸ªç›¸åŒçš„å…ƒç´ æ»¡è¶³æ¡ä»¶ï¼Œè¾“å‡º -1ã€‚

```mermaid
graph TD;
    A[è¯»å–è¾“å…¥] --> B(å¯¹åºåˆ—æ’åº)
    B --> C(æ£€æŸ¥ n æ˜¯å¦ç­‰äº k)
    C -- æ˜¯ --> D(è¾“å‡ºåºåˆ—ä¸­çš„ç¬¬ k ä¸ªå…ƒç´ )
    C -- å¦ --> E(æ£€æŸ¥ k æ˜¯å¦ç­‰äº 0)
    E -- æ˜¯ --> F(æ£€æŸ¥åºåˆ—ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯å¦å¤§äº 1)
    F -- æ˜¯ --> G(è¾“å‡º 1)
    F -- å¦ --> H(è¾“å‡º -1)
    E -- å¦ --> I(æ£€æŸ¥åºåˆ—ä¸­ç¬¬ k ä¸ªå…ƒç´ ä¸ç¬¬ k-1 ä¸ªå…ƒç´ æ˜¯å¦ç›¸ç­‰)
    I -- æ˜¯ --> J(è¾“å‡º -1)
    I -- å¦ --> K(è¾“å‡ºåºåˆ—ä¸­ç¬¬ k ä¸ªå…ƒç´ )

```





ä»£ç 

```python
n , k = list(map(int, input().split()))
 
nums = list(map(int , input().split()))
nums.sort()
if n == k:
    print(nums[k-1])
elif k == 0:
    if nums[0] > 1:
        print(1)
    else:
        print(-1)
elif nums[k] != nums[k-1]:
    print(nums[k-1])
elif nums[k] == nums[k-1]:
    print(-1)
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240409230422182](E:\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°ç®—B\Assignments\assignment7\assignment7.assets\image-20240409230422182.png)





### 27948: FBIæ ‘

http://cs101.openjudge.cn/practice/27948/



æ€è·¯ï¼š

1. è¯»å–è¾“å…¥çš„æ•´æ•° n è¡¨ç¤ºäºŒå‰æ ‘çš„æ·±åº¦ï¼Œä»¥åŠé•¿åº¦ä¸º 2^N çš„01ä¸² sã€‚
2. å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ ansï¼Œç”¨äºå­˜å‚¨ååºéå†åºåˆ—ã€‚
3. å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•° postorder(s)ï¼Œè¯¥å‡½æ•°ç”¨äºæ„é€ FBIæ ‘å¹¶ç”Ÿæˆååºéå†åºåˆ—ã€‚
4. å¦‚æœè¾“å…¥çš„ä¸² s çš„é•¿åº¦å¤§äº1ï¼Œåˆ™ç»§ç»­é€’å½’æ„é€ å·¦å³å­æ ‘ã€‚
5. å½“é€’å½’åˆ°åº•å±‚æ—¶ï¼ˆé•¿åº¦ä¸º1ï¼‰ï¼Œæ ¹æ®å½“å‰ä¸² s çš„æƒ…å†µåˆ¤æ–­æ˜¯Bã€Iè¿˜æ˜¯Fï¼Œå¹¶å°†å¯¹åº”çš„ç±»å‹æ·»åŠ åˆ°ååºéå†åºåˆ— ans ä¸­ã€‚
6. æœ€åï¼Œè¾“å‡ºååºéå†åºåˆ— ansã€‚

```mermaid
graph TD;
    A[è¯»å–è¾“å…¥] --> B(å®šä¹‰å…¨å±€å˜é‡ans)
    B --> C(å®šä¹‰é€’å½’å‡½æ•°postorder)
    C --> D{æ£€æŸ¥é•¿åº¦æ˜¯å¦å¤§äº1}
    D -- æ˜¯ --> E(é€’å½’æ„é€ å·¦å­æ ‘)
    E --> F(é€’å½’æ„é€ å³å­æ ‘)
    F --> G(åˆ¤æ–­å½“å‰ä¸²ç±»å‹)
    G -- "s == '0'*l" --> H(æ·»åŠ Båˆ°ååºéå†åºåˆ—ans)
    G -- "s == '1'*l" --> I(æ·»åŠ Iåˆ°ååºéå†åºåˆ—ans)
    G -- å¦ --> J(æ·»åŠ Fåˆ°ååºéå†åºåˆ—ans)
    D -- å¦ --> K(è¿”å›ans)
    K --> L(è¾“å‡ºååºéå†åºåˆ—ans)

```





ä»£ç 

```python
n = int(input())
s = input()
ans =''
def postorder(s):
    global ans
    l = len(s)
    if(l>1):
        postorder(s[:(l//2)])# å·¦å­æ ‘
        postorder(s[(l//2):])# å³å­æ ‘

    if(s == '0'*l):
        ans+='B'
    elif(s == '1'*l):
        ans+='I'
    else:
        ans+='F'
postorder(s)
print(ans)
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240409230929166](E:\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°ç®—B\Assignments\assignment7\assignment7.assets\image-20240409230929166.png)





### 27925: å°ç»„é˜Ÿåˆ—

http://cs101.openjudge.cn/practice/27925/



æ€è·¯ï¼šæ²¡æœ‰æ€è·¯åœ¨åŸé¢˜ç›®ç½‘ç«™æ‰¾åˆ°äº†ä»¥ä¸‹é¢˜è§£ï¼Œä½†è¿˜æ˜¯è¶…æ—¶äº†ï¼Œä¸çŸ¥é“è¯¥æ€ä¹ˆåŠ



ä»£ç 

```python
#include<bits/stdc++.h>
using namespace std;
const int N = 1010,M = 1e6+10;
int tt = -1,hh = 0;
int q[N];

int H[M];
int main(){
    int t;
    int no = 0;
    while(cin>>t,t){
        queue<int> S[t];
        no++;
        printf("Scenario #%d\n",no);
        tt = -1,hh = 0;
        for(int i = 0;i<t;i++) {
            int n;cin>>n;
            for(int j = 0;j<n;j++){
                int x;cin>>x;
                H[x] = i;
            }
        }
        char s[10];
        while(true){
            scanf("%s",&s);
            if(s[0] == 'E') {
                int x;cin>>x;
                int k = H[x];
                if(S[k].size() == 0) q[++tt] = k;
                S[k].push(x);
            }else if(s[0] == 'D'){
                int k = q[hh];
                printf("%d\n",S[k].front());
                S[k].pop();
                if(!S[k].size()) hh++;
            }else break;
        }
        cout<<endl;
    }
    return 0;
}

ä½œè€…ï¼šé‡ç”Ÿä¹‹æˆ‘æ˜¯tourist
é“¾æ¥ï¼šhttps://www.acwing.com/solution/content/158592/
æ¥æºï¼šAcWing
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240409233843224](E:\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°ç®—B\Assignments\assignment7\assignment7.assets\image-20240409233843224.png)



### 27928: éå†æ ‘

http://cs101.openjudge.cn/practice/27928/



æ€è·¯ï¼š

1. é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºæ ‘çš„æ•°æ®ç»“æ„ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå­—å…¸æ¥è¡¨ç¤ºæ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹åˆ—è¡¨ã€‚é”®ä¸ºèŠ‚ç‚¹å€¼ï¼Œå€¼ä¸ºå…¶å­èŠ‚ç‚¹å€¼åˆ—è¡¨ã€‚
2. ç„¶åï¼Œæˆ‘ä»¬è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰éå†æ ‘ã€‚éå†è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æŒ‰ç…§è§„å®šçš„é¡ºåºæ”¶é›†æ¯ä¸ªèŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œå¹¶å­˜å‚¨ä¸ºä¸€ä¸ªåˆ—è¡¨ã€‚
3. æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯¹æ¯ä¸ªèŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹çš„å€¼åˆ—è¡¨è¿›è¡Œæ’åºã€‚
4. æœ€åï¼Œæˆ‘ä»¬å°†æ’åºåçš„å€¼ä¾æ¬¡æ”¾å…¥ä¼˜å…ˆé˜Ÿåˆ—ä¸­ã€‚ä¼˜å…ˆé˜Ÿåˆ—ä¼šè‡ªåŠ¨æŒ‰ç…§å€¼çš„å¤§å°è¿›è¡Œæ’åºã€‚
5. æœ€ç»ˆï¼Œæˆ‘ä»¬ä»ä¼˜å…ˆé˜Ÿåˆ—ä¸­ä¾æ¬¡å¼¹å‡ºå€¼å¹¶è¾“å‡ºï¼Œå³å¾—åˆ°äº†æŒ‰ç…§é¢˜ç›®è§„åˆ™éå†æ ‘çš„ç»“æœã€‚

```mermaid
graph TD
    A[æ„å»ºæ ‘çš„æ•°æ®ç»“æ„] --> B[æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰éå†æ ‘]
    B --> C[æ”¶é›†æ¯ä¸ªèŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹çš„å€¼]
    C --> D[å¯¹æ¯ä¸ªèŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹çš„å€¼åˆ—è¡¨è¿›è¡Œæ’åº]
    D --> E[å°†æ’åºåçš„å€¼ä¾æ¬¡æ”¾å…¥ä¼˜å…ˆé˜Ÿåˆ—ä¸­]
    E --> F[ä»ä¼˜å…ˆé˜Ÿåˆ—ä¸­ä¾æ¬¡å¼¹å‡ºå€¼å¹¶è¾“å‡º]

```





ä»£ç 

```python
import heapq

class TreeNode:
    def __init__(self, val):
        self.val = val
        self.children = []

def traverse_tree(root):
    # ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå­˜å‚¨èŠ‚ç‚¹å€¼
    pq = []
    
    # DFSå‡½æ•°
    def dfs(node):
        nonlocal pq
        # æ”¶é›†èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œå¹¶å­˜å‚¨ä¸ºåˆ—è¡¨
        values = [node.val]
        for child in node.children:
            values.extend(dfs(child))
        # å¯¹å€¼åˆ—è¡¨è¿›è¡Œæ’åº
        values.sort()
        # å°†æ’åºåçš„å€¼åˆ—è¡¨ä¸­çš„å€¼ä¾æ¬¡æ”¾å…¥ä¼˜å…ˆé˜Ÿåˆ—ä¸­
        for val in values:
            heapq.heappush(pq, val)
        return values
    
    # å¼€å§‹DFS
    dfs(root)
    
    # ä»ä¼˜å…ˆé˜Ÿåˆ—ä¸­ä¾æ¬¡å¼¹å‡ºå€¼å¹¶è¾“å‡º
    while pq:
        print(heapq.heappop(pq))

# è¯»å–è¾“å…¥
n = int(input())  # èŠ‚ç‚¹ä¸ªæ•°
node_dict = {}  # ç”¨å­—å…¸å­˜å‚¨èŠ‚ç‚¹å¯¹è±¡
for _ in range(n):
    values = list(map(int, input().split()))
    val = values[0]
    node = TreeNode(val)
    for child_val in values[1:]:
        child = TreeNode(child_val)
        node.children.append(child)
        node_dict[child_val] = child
    node_dict[val] = node

# æ‰¾åˆ°æ ¹èŠ‚ç‚¹
root_val = None
for val in node_dict:
    if val not in [child_val for node in node_dict.values() for child_val in node.children]:
        root_val = val
        break
root = node_dict[root_val]

# éå†æ ‘
traverse_tree(root)
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240409233433257](E:\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°ç®—B\Assignments\assignment7\assignment7.assets\image-20240409233433257.png)





## 2. å­¦ä¹ æ€»ç»“å’Œæ”¶è·

æœ€åä¸¤é¢˜æ±—æµæµƒèƒŒäº†ğŸ¤¯





