# Assignment #B: å›¾è®ºå’Œæ ‘ç®—

Updated 1709 GMT+8 Apr 28, 2024

2024 spring, Complied by æ¨ä¹å±± 2100011502



**è¯´æ˜ï¼š**

1ï¼‰è¯·æŠŠæ¯ä¸ªé¢˜ç›®è§£é¢˜æ€è·¯ï¼ˆå¯é€‰ï¼‰ï¼Œæºç Python, æˆ–è€…C++ï¼ˆå·²ç»åœ¨Codeforces/Openjudgeä¸ŠACï¼‰ï¼Œæˆªå›¾ï¼ˆåŒ…å«Acceptedï¼‰ï¼Œå¡«å†™åˆ°ä¸‹é¢ä½œä¸šæ¨¡ç‰ˆä¸­ï¼ˆæ¨èä½¿ç”¨ typora https://typoraio.cn ï¼Œæˆ–è€…ç”¨wordï¼‰ã€‚AC æˆ–è€…æ²¡æœ‰ACï¼Œéƒ½è¯·æ ‡ä¸Šæ¯ä¸ªé¢˜ç›®å¤§è‡´èŠ±è´¹æ—¶é—´ã€‚

2ï¼‰æäº¤æ—¶å€™å…ˆæäº¤pdfæ–‡ä»¶ï¼Œå†æŠŠmdæˆ–è€…docæ–‡ä»¶ä¸Šä¼ åˆ°å³ä¾§â€œä½œä¸šè¯„è®ºâ€ã€‚Canvaséœ€è¦æœ‰åŒå­¦æ¸…æ™°å¤´åƒã€æäº¤æ–‡ä»¶æœ‰pdfã€"ä½œä¸šè¯„è®º"åŒºæœ‰ä¸Šä¼ çš„mdæˆ–è€…docé™„ä»¶ã€‚

3ï¼‰å¦‚æœä¸èƒ½åœ¨æˆªæ­¢å‰æäº¤ä½œä¸šï¼Œè¯·å†™æ˜åŸå› ã€‚



**ç¼–ç¨‹ç¯å¢ƒ**

æ“ä½œç³»ç»Ÿï¼šWindows 11 ä¸“ä¸šç‰ˆ 23H2 22631.3296

Pythonç¼–ç¨‹ç¯å¢ƒï¼šPyCharm 2023.3.5 (Professional Edition)





## 1. é¢˜ç›®

### 28170: ç®—é¹°

dfs, http://cs101.openjudge.cn/practice/28170/



æ€è·¯ï¼š

1. **å‡½æ•° `dfs(x, y)`:**
   - è¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•° `x` å’Œ `y`ï¼Œè¡¨ç¤ºå½“å‰å•å…ƒæ ¼çš„åæ ‡ã€‚
   - å®ƒå°†å½“å‰å•å…ƒæ ¼æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œå°†å…¶å€¼æ”¹ä¸º `"-"`ã€‚
   - ç„¶åï¼Œå®ƒæ£€æŸ¥å››ä¸ªæ–¹å‘ä¸Šçš„ç›¸é‚»å•å…ƒæ ¼ï¼šä¸Šã€ä¸‹ã€å·¦ã€å³ã€‚
   - å¦‚æœç›¸é‚»å•å…ƒæ ¼åœ¨ç½‘æ ¼èŒƒå›´å†…å¹¶ä¸”åŒ…å« `"."`ï¼ˆè¡¨ç¤ºæœªè®¿é—®ï¼‰ï¼Œåˆ™é€’å½’è°ƒç”¨ `dfs()` å‡½æ•°è®¿é—®è¯¥å•å…ƒæ ¼ã€‚

2. **ä¸»è¦ä»£ç :**
   - åˆå§‹åŒ–äº†ä¸€ä¸ªç©ºåˆ—è¡¨ `graph` ç”¨äºè¡¨ç¤ºäºŒç»´ç½‘æ ¼ã€‚
   - éå† 10 è¡Œè¾“å…¥ä»¥å¡«å…… `graph`ã€‚
   - å¯¹äºæ¯ä¸ªå•å…ƒæ ¼ï¼ˆ`"."` è¡¨ç¤ºç©ºå•å…ƒæ ¼ï¼‰ï¼Œå¢åŠ ç»“æœè®¡æ•°å™¨ï¼Œå¹¶ä»è¯¥å•å…ƒæ ¼å¼€å§‹æ‰§è¡Œ DFSï¼Œå¦‚æœå°šæœªè®¿é—®è¿‡çš„è¯ã€‚
   - æœ€åæ‰“å°ç»“æœè®¡æ•°å™¨ã€‚

```mermaid
graph TD;
    A[åˆå§‹åŒ– graph] --> B{æ‰€æœ‰å•å…ƒæ ¼å·²å¤„ç†ï¼Ÿ};
    B -->|æ˜¯| C[æ‰“å°ç»“æœ];
    B -->|å¦| D[éå†æ¯ä¸ªå•å…ƒæ ¼];
    D --> E{å½“å‰å•å…ƒæ ¼ä¸ºç©ºï¼Ÿ};
    E -->|æ˜¯| F[å¢åŠ ç»“æœè®¡æ•°å™¨];
    E -->|å¦| G[è·³è¿‡å½“å‰å•å…ƒæ ¼];
    F --> H[ä»å½“å‰å•å…ƒæ ¼æ‰§è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢];
    H --> D;
    C --> I[ç»“æŸ];
```

ä»åˆå§‹åŒ– `graph` å¼€å§‹ï¼Œç„¶åæ£€æŸ¥æ¯ä¸ªå•å…ƒæ ¼ï¼Œå¦‚æœå•å…ƒæ ¼ä¸ºç©ºï¼Œåˆ™å¢åŠ ç»“æœè®¡æ•°å™¨ï¼Œå¹¶ä¸”å¼€å§‹æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œç›´åˆ°æ‰€æœ‰å•å…ƒæ ¼éƒ½è¢«å¤„ç†ã€‚

ä»£ç 

```python
def dfs(x,y):
    graph[x][y] = "-"
    for dx,dy in [(1,0),(-1,0),(0,1),(0,-1)]:
        if 0<=x+dx<10 and 0<=y+dy<10 and graph[x+dx][y+dy] == ".":
            dfs(x+dx,y+dy)
graph = []
result = 0
for i in range(10):
    graph.append(list(input()))
for i in range(10):
    for j in range(10):
        if graph[i][j] == ".":
            result += 1
            dfs(i,j)
print(result)
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240507232317024](E:\BaiduSyncdisk\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°æ®ç»“æ„ä¸ç®—æ³•B\Assignments\AssignmentB\assignmentB.assets\image-20240507232317024.png)





### 02754: å…«çš‡å

dfs, http://cs101.openjudge.cn/practice/02754/



æ€è·¯ï¼š

1. **å‡½æ•° `queen_dfs(A, cur=0)`:**
   - è¿™ä¸ªå‡½æ•°æ˜¯é€’å½’çš„ï¼Œç”¨äºå°è¯•åœ¨ç¬¬ `cur` è¡Œæ”¾ç½®çš‡åã€‚
   - å®ƒéå†äº†å½“å‰è¡Œçš„æ‰€æœ‰åˆ—ï¼Œæ£€æŸ¥æ˜¯å¦å¯ä»¥æ”¾ç½®çš‡åï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶åˆ™é€’å½’è°ƒç”¨è‡ªèº«æ¥å¤„ç†ä¸‹ä¸€è¡Œã€‚
   - æ”¾ç½®çš„æ¡ä»¶æ˜¯ï¼šæ–°æ”¾ç½®çš„çš‡åä¸èƒ½ä¸ä¹‹å‰çš„çš‡ååœ¨åŒä¸€åˆ—æˆ–å¯¹è§’çº¿ä¸Šã€‚

2. **ä¸»è¦ä»£ç :**
   - åˆ›å»ºäº†ä¸€ä¸ªç©ºåˆ—è¡¨ `ans` ç”¨äºå­˜å‚¨æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å…«çš‡åè§£ã€‚
   - è°ƒç”¨ `queen_dfs([None]*8)` æ¥å¼€å§‹è§£å†³å…«çš‡åé—®é¢˜ã€‚
   - æ ¹æ®è¾“å…¥çš„æ¬¡æ•°ï¼Œä¾æ¬¡è¾“å‡ºå¯¹åº”ä½ç½®çš„å…«çš‡åè§£ã€‚

è¿™æ®µä»£ç é€šè¿‡æ·±åº¦ä¼˜å…ˆæœç´¢æšä¸¾äº†æ‰€æœ‰å¯èƒ½çš„å…«çš‡åæ”¾ç½®æƒ…å†µï¼Œå¹¶å°†ç¬¦åˆæ¡ä»¶çš„è§£å­˜å‚¨åœ¨ `ans` åˆ—è¡¨ä¸­ï¼Œç„¶åæ ¹æ®è¾“å…¥è¾“å‡ºå¯¹åº”çš„è§£ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ Mermaid ç¬¦å·ç»˜åˆ¶æµç¨‹å›¾ï¼š

```mermaid
graph TD;
    A[åˆå§‹åŒ– ans] --> B[è°ƒç”¨ queen_dfsï¼ˆã€Noneã€‘*8ï¼‰];
    B --> C{æ‰€æœ‰å…«çš‡åæ–¹æ¡ˆéƒ½å¤„ç†å®Œäº†ï¼Ÿ};
    C -->|æ˜¯| D[æ ¹æ®è¾“å…¥è¾“å‡ºå¯¹åº”çš„è§£];
    C -->|å¦| E[æ£€æŸ¥å½“å‰è¡Œçš„æ‰€æœ‰åˆ—];
    E --> F{å½“å‰åˆ—æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Ÿ};
    F -->|æ˜¯| G[é€’å½’è°ƒç”¨ queen_dfs å¤„ç†ä¸‹ä¸€è¡Œ];
    F -->|å¦| H[å°è¯•ä¸‹ä¸€åˆ—];
    G --> E;
    H --> E;
    D --> I[ç»“æŸ];
```

ä»åˆå§‹åŒ– `ans` å¼€å§‹ï¼Œç„¶åé€’å½’åœ°å¤„ç†æ¯ä¸€è¡Œçš„æ‰€æœ‰åˆ—ï¼Œç›´åˆ°æ‰€æœ‰å…«çš‡åæ–¹æ¡ˆéƒ½è¢«å¤„ç†å®Œæ¯•ã€‚

ä»£ç 

```python
ans = []
def queen_dfs(A, cur = 0):                                       #å¯¹äºä¸€ä¸ªè¾¹é•¿ä¸ºæŸæ•°çš„æ£‹ç›˜ï¼Œæˆ‘ä»¬æ¥è€ƒè™‘ç¬¬curè¡Œçš„çš‡åæ”¾ç½®æƒ…å†µ
    for col in range(len(A)):                                    #å¯¹äºè¿™ä¸€è¡Œä¸­çš„æ‰€æœ‰åˆ—è€ƒè™‘çš‡åæ”¾ç½®å¯è¡Œæ€§
        for row in range(cur):                                   #ç°åœ¨æ¥çœ‹ä¹‹å‰å·²ç»æ”¾ç½®è¿‡çš„çš‡åä¼šä¸ä¼šå’Œåœ¨ç¬¬colåˆ—çš„æ–°æ”¾ç½®çš‡åäº§ç”Ÿå†²çª
            if col == A[row] or abs(col - A[row]) == cur - row:  #å¦‚æœäº§ç”Ÿäº†å†²çª
                break                                            #colåˆ—ä¸å¯ä»¥æ”¾ç½®çš‡å
        else:                                                    #å¦‚æœä¸äº§ç”Ÿå†²çª
            A[cur] = col                                         #é‚£ä¹ˆæ£‹ç›˜çš„curè¡Œcolåˆ—å¯ä»¥æ”¾ç½®ä¸€ä¸ªæ–°çš„çš‡å
            queen_dfs(A, cur + 1)                                #é‚£ä¹ˆæ¥ç€è€ƒè™‘ä¸‹ä¸€è¡Œçš„æƒ…å†µï¼ˆå¥—å¨ƒï¼‰
    if cur == len(A):                                            #è€ƒè™‘å®Œäº†
        ans.append(''.join(str(x+1) for x in A))                 #ä½œä¸ºä¸€ç§å®‰æ’æ”¾è¿›åˆ—è¡¨ä¸­ï¼Œä»¥å¤‡è°ƒç”¨
queen_dfs([None]*8)                                              #å›½é™…è±¡æ£‹æ£‹ç›˜æ˜¯8*8å¤§å°
for _ in range(int(input())):
    print(ans[int(input()) - 1])
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240507232334189](E:\BaiduSyncdisk\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°æ®ç»“æ„ä¸ç®—æ³•B\Assignments\AssignmentB\assignmentB.assets\image-20240507232334189.png)





### 03151: Pots

bfs, http://cs101.openjudge.cn/practice/03151/



æ€è·¯ï¼š

1. **å‡½æ•° `bfs(A, B, C)`:**
   - ä½¿ç”¨ BFS ç®—æ³•æ¥æœç´¢ä»åˆå§‹çŠ¶æ€åˆ°ç›®æ ‡çŠ¶æ€çš„æœ€çŸ­è·¯å¾„ã€‚
   - å®šä¹‰äº†èµ·å§‹çŠ¶æ€ `(0, 0)`ï¼Œè¡¨ç¤ºä¸¤ä¸ªæ°´æ¡¶éƒ½æ˜¯ç©ºçš„ã€‚
   - ä½¿ç”¨é˜Ÿåˆ—æ¥ä¿å­˜å¾…è®¿é—®çš„çŠ¶æ€ï¼ŒåŒæ—¶ä½¿ç”¨é›†åˆ `visited` æ¥é¿å…é‡å¤è®¿é—®ç›¸åŒçš„çŠ¶æ€ã€‚
   - æ¯æ¬¡å–å‡ºé˜Ÿåˆ—ä¸­çš„ä¸€ä¸ªçŠ¶æ€ `(a, b)`ï¼Œå…¶ä¸­ `a` å’Œ `b` è¡¨ç¤ºä¸¤ä¸ªæ°´æ¡¶ä¸­çš„æ°´é‡ï¼ŒåŒæ—¶ä¹Ÿè®°å½•äº†åˆ°è¾¾å½“å‰çŠ¶æ€çš„æ“ä½œåºåˆ— `actions`ã€‚
   - éå†å½“å‰çŠ¶æ€çš„æ‰€æœ‰å¯èƒ½ä¸‹ä¸€æ­¥çŠ¶æ€ï¼Œå¹¶å°†æœªè®¿é—®çš„çŠ¶æ€åŠ å…¥é˜Ÿåˆ—ä¸­ï¼Œå¹¶æ›´æ–°è®¿é—®è®°å½•å’Œæ“ä½œåºåˆ—ã€‚
   - å½“æŸä¸ªçŠ¶æ€çš„æ°´é‡ç­‰äºç›®æ ‡æ°´é‡ `C` æ—¶ï¼Œè¿”å›è¯¥çŠ¶æ€å¯¹åº”çš„æ“ä½œåºåˆ—ã€‚

2. **å‡½æ•° `get_action(a, b, next_state)`:**
   - æ ¹æ®å½“å‰çŠ¶æ€å’Œä¸‹ä¸€çŠ¶æ€ï¼Œç¡®å®šå¯¹åº”çš„æ“ä½œæ˜¯å€’æ»¡ã€å€’ç©ºè¿˜æ˜¯å€’æ°´ã€‚

3. **ä¸»è¦ä»£ç :**
   - è¯»å–è¾“å…¥çš„ä¸‰ä¸ªå‚æ•°ï¼šä¸¤ä¸ªæ°´æ¡¶çš„å®¹é‡ `A` å’Œ `B`ï¼Œä»¥åŠç›®æ ‡æ°´é‡ `C`ã€‚
   - è°ƒç”¨ `bfs(A, B, C)` æ¥è·å–è§£å†³æ–¹æ¡ˆã€‚
   - å¦‚æœæ‰¾ä¸åˆ°è§£å†³æ–¹æ¡ˆï¼Œåˆ™è¾“å‡º `"impossible"`ï¼Œå¦åˆ™è¾“å‡ºæ“ä½œåºåˆ—çš„é•¿åº¦ä»¥åŠå…·ä½“çš„æ“ä½œã€‚

```mermaid
graph TD;
    A[åˆå§‹åŒ–èµ·å§‹çŠ¶æ€ï¼Œé˜Ÿåˆ—å’Œè®¿é—®é›†åˆ] --> B{é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Ÿ};
    B -->|æ˜¯| C[å–å‡ºé˜Ÿåˆ—ä¸­çš„ä¸€ä¸ªçŠ¶æ€];
    C --> D{æ˜¯å¦è¾¾åˆ°ç›®æ ‡çŠ¶æ€ï¼Ÿ};
    D -->|æ˜¯| E[è¿”å›æ“ä½œåºåˆ—];
    D -->|å¦| F[ç”Ÿæˆä¸‹ä¸€æ­¥å¯èƒ½çš„çŠ¶æ€];
    F --> G{çŠ¶æ€æ˜¯å¦å·²è®¿é—®ï¼Ÿ};
    G -->|æ˜¯| F;
    G -->|å¦| H[è®°å½•çŠ¶æ€å¹¶åŠ å…¥é˜Ÿåˆ—];
    H --> B;
    B -->|å¦| I[è¾“å‡ºç»“æœ];
```

ä»åˆå§‹åŒ–èµ·å§‹çŠ¶æ€ã€é˜Ÿåˆ—å’Œè®¿é—®é›†åˆå¼€å§‹ï¼Œç„¶åä¸æ–­åœ°ä»é˜Ÿåˆ—ä¸­å–å‡ºçŠ¶æ€è¿›è¡Œå¤„ç†ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡çŠ¶æ€æˆ–é˜Ÿåˆ—ä¸ºç©ºä¸ºæ­¢ã€‚

ä»£ç 

```python
def bfs(A, B, C):
    start = (0, 0)
    visited = set()
    visited.add(start)
    queue = [(start, [])]

    while queue:
        (a, b), actions = queue.pop(0)

        if a == C or b == C:
            return actions

        next_states = [(A, b), (a, B), (0, b), (a, 0), (min(a + b, A),\
                max(0, a + b - A)), (max(0, a + b - B), min(a + b, B))]

        for i in next_states:
            if i not in visited:
                visited.add(i)
                new_actions = actions + [get_action(a, b, i)]
                queue.append((i, new_actions))

    return ["impossible"]


def get_action(a, b, next_state):
    if next_state == (A, b):
        return "FILL(1)"
    elif next_state == (a, B):
        return "FILL(2)"
    elif next_state == (0, b):
        return "DROP(1)"
    elif next_state == (a, 0):
        return "DROP(2)"
    elif next_state == (min(a + b, A), max(0, a + b - A)):
        return "POUR(2,1)"
    else:
        return "POUR(1,2)"


A, B, C = map(int, input().split())
solution = bfs(A, B, C)

if solution == ["impossible"]:
    print(solution[0])
else:
    print(len(solution))
    for i in solution:
        print(i)
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240507233356208](E:\BaiduSyncdisk\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°æ®ç»“æ„ä¸ç®—æ³•B\Assignments\AssignmentB\assignmentB.assets\image-20240507233356208.png)





### 05907: äºŒå‰æ ‘çš„æ“ä½œ

http://cs101.openjudge.cn/practice/05907/



æ€è·¯ï¼š

1. **å‡½æ•° `find_leftmost_node(son, u)`:**
   - è¿™ä¸ªå‡½æ•°ç”¨äºæ‰¾åˆ°ä»¥èŠ‚ç‚¹ `u` ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­æœ€å·¦ä¾§çš„èŠ‚ç‚¹ã€‚
   - é€šè¿‡ä¸æ–­å‘å·¦å­èŠ‚ç‚¹ç§»åŠ¨ï¼Œç›´åˆ°å·¦å­èŠ‚ç‚¹ä¸ºç©ºä¸ºæ­¢ï¼Œè¿”å›å½“å‰èŠ‚ç‚¹çš„å€¼ã€‚

2. **å‡½æ•° `main()`:**
   - é¦–å…ˆè¯»å–æµ‹è¯•ç”¨ä¾‹çš„æ•°é‡ `t`ã€‚
   - å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼š
     - è¯»å–èŠ‚ç‚¹æ•° `n` å’Œæ“ä½œæ•° `m`ã€‚
     - åˆ›å»ºä¸€ä¸ªæ•°ç»„ `son` æ¥å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚
     - åˆ›å»ºä¸€ä¸ªå­—å…¸ `parent` æ¥å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å’Œæ–¹å‘ã€‚
     - å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå°†å…¶å­èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹ä¿¡æ¯å­˜å‚¨åœ¨ `son` å’Œ `parent` ä¸­ã€‚
     - å¯¹äºæ¯ä¸ªæ“ä½œï¼š
       - å¦‚æœæ˜¯ç±»å‹ 1 æ“ä½œï¼Œäº¤æ¢ä¸¤ä¸ªèŠ‚ç‚¹çš„ä½ç½®ã€‚
       - å¦‚æœæ˜¯ç±»å‹ 2 æ“ä½œï¼Œæ‰¾åˆ°ä»¥èŠ‚ç‚¹ `u` ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­æœ€å·¦ä¾§çš„èŠ‚ç‚¹å¹¶æ‰“å°ã€‚

3. **ä¸»è¦ä»£ç :**
   - æ ¹æ®è¾“å…¥çš„å‘½ä»¤ç±»å‹æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œå®ç°äº†èŠ‚ç‚¹ä½ç½®çš„äº¤æ¢å’ŒæŸ¥è¯¢å·¦ä¾§æœ€å·¦è¾¹çš„èŠ‚ç‚¹ã€‚

```mermaid
graph TD;
    A[è¯»å–æµ‹è¯•ç”¨ä¾‹æ•°é‡] --> B{æœ‰æ›´å¤šæµ‹è¯•ç”¨ä¾‹ï¼Ÿ};
    B -->|æ˜¯| C[è¯»å–èŠ‚ç‚¹æ•°å’Œæ“ä½œæ•°];
    C --> D[åˆå§‹åŒ–èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹ä¿¡æ¯];
    D --> E{æœ‰æ›´å¤šèŠ‚ç‚¹ä¿¡æ¯ï¼Ÿ};
    E -->|æ˜¯| F[å­˜å‚¨èŠ‚ç‚¹ä¿¡æ¯];
    F --> E;
    E --> G{æœ‰æ›´å¤šæ“ä½œï¼Ÿ};
    G -->|æ˜¯| H[æ‰§è¡Œæ“ä½œ];
    H --> I{æ“ä½œç±»å‹æ˜¯1ï¼Ÿ};
    I -->|æ˜¯| J[äº¤æ¢èŠ‚ç‚¹ä½ç½®];
    I -->|å¦| K{æ“ä½œç±»å‹æ˜¯2ï¼Ÿ};
    K -->|æ˜¯| L[æŸ¥è¯¢å·¦ä¾§æœ€å·¦è¾¹çš„èŠ‚ç‚¹å¹¶æ‰“å°];
    K -->|å¦| G;
    B -->|å¦| M[ç»“æŸ];
```

ä»è¯»å–æµ‹è¯•ç”¨ä¾‹æ•°é‡å¼€å§‹ï¼Œç„¶åä¾æ¬¡è¯»å–èŠ‚ç‚¹ä¿¡æ¯å’Œæ“ä½œï¼Œæ ¹æ®æ“ä½œç±»å‹æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œç›´åˆ°å¤„ç†å®Œæ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹ã€‚

ä»£ç 

```python
def find_leftmost_node(son, u):
    while son[u][0] != -1:
        u = son[u][0]
    return u

def main():
    t = int(input())
    for _ in range(t):
        n, m = map(int, input().split())

        son = [-1] * (n + 1)  # å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹
        parent = {}  # å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å’Œæ–¹å‘ï¼Œ{èŠ‚ç‚¹: (çˆ¶èŠ‚ç‚¹, æ–¹å‘)}

        for _ in range(n):
            i, u, v = map(int, input().split())
            son[i] = [u, v]
            parent[u] = (i, 0)  # å·¦å­èŠ‚ç‚¹
            parent[v] = (i, 1)  # å³å­èŠ‚ç‚¹

        for _ in range(m):
            s = input().split()
            if s[0] == "1":
                u, v = map(int, s[1:])
                fu, diru = parent[u]
                fv, dirv = parent[v]
                son[fu][diru] = v
                son[fv][dirv] = u
                parent[v] = (fu, diru)
                parent[u] = (fv, dirv)
            elif s[0] == "2":
                u = int(s[1])
                root = find_leftmost_node(son, u)
                print(root)

if __name__ == "__main__":
    main()
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240507233616915](E:\BaiduSyncdisk\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°æ®ç»“æ„ä¸ç®—æ³•B\Assignments\AssignmentB\assignmentB.assets\image-20240507233616915.png)







### 18250: å†°é˜”è½ I

Disjoint set, http://cs101.openjudge.cn/practice/18250/



æ€è·¯ï¼š

1. **å‡½æ•° `find(x)`:**
   - è¿™ä¸ªå‡½æ•°ç”¨äºæŸ¥æ‰¾å…ƒç´  `x` æ‰€å±çš„é›†åˆçš„æ ¹èŠ‚ç‚¹ï¼Œå¹¶è¿›è¡Œè·¯å¾„å‹ç¼©ï¼Œå³å°†æŸ¥æ‰¾è·¯å¾„ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹ç›´æ¥è¿æ¥åˆ°æ ¹èŠ‚ç‚¹ï¼Œä»¥å‡å°‘åç»­æŸ¥æ‰¾çš„æ—¶é—´ã€‚
   - å¦‚æœ `x` çš„çˆ¶èŠ‚ç‚¹ä¸æ˜¯è‡ªå·±ï¼Œåˆ™é€’å½’åœ°æŸ¥æ‰¾ `x` çš„çˆ¶èŠ‚ç‚¹ï¼ŒåŒæ—¶æ›´æ–° `x` çš„çˆ¶èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹ã€‚
   - è¿”å› `x` æ‰€å±é›†åˆçš„æ ¹èŠ‚ç‚¹ã€‚

2. **å‡½æ•° `union(x, y)`:**
   - è¿™ä¸ªå‡½æ•°ç”¨äºåˆå¹¶å…ƒç´  `x` å’Œå…ƒç´  `y` æ‰€å±çš„é›†åˆã€‚
   - é¦–å…ˆæ‰¾åˆ° `x` å’Œ `y` çš„æ ¹èŠ‚ç‚¹ `root_x` å’Œ `root_y`ã€‚
   - å¦‚æœ `root_x` å’Œ `root_y` ä¸ç›¸ç­‰ï¼Œè¡¨ç¤ºå®ƒä»¬å±äºä¸åŒçš„é›†åˆï¼Œé‚£ä¹ˆå°†å…¶ä¸­ä¸€ä¸ªæ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æŒ‡å‘å¦ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œä»¥åˆå¹¶ä¸¤ä¸ªé›†åˆã€‚

3. **ä¸»è¦ä»£ç :**
   - ä¸æ–­å¾ªç¯è¯»å–è¾“å…¥ï¼Œç›´åˆ°æ–‡ä»¶ç»“æŸã€‚
   - å¯¹äºæ¯ç»„è¾“å…¥ï¼š
     - åˆå§‹åŒ–å¹¶æŸ¥é›†çš„ `parent` æ•°ç»„ï¼Œä½¿æ¯ä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯è‡ªå·±ã€‚
     - ä¾æ¬¡å¤„ç†æ¯ä¸ªè¾“å…¥çš„ `m` æ¡è¾¹ï¼Œå¦‚æœä¸¤ä¸ªèŠ‚ç‚¹å·²ç»å±äºåŒä¸€ä¸ªé›†åˆï¼Œåˆ™è¾“å‡º `Yes`ï¼Œå¦åˆ™å°†å®ƒä»¬åˆå¹¶ï¼Œå¹¶è¾“å‡º `No`ã€‚
     - æœ€åç»Ÿè®¡é›†åˆæ•°é‡å’Œæ¯ä¸ªé›†åˆçš„ä»£è¡¨å…ƒç´ ã€‚

```mermaid
graph TD;
    A[å¾ªç¯è¯»å–è¾“å…¥] --> B{è¾“å…¥ç»“æŸï¼Ÿ};
    B -->|å¦| C[åˆå§‹åŒ–å¹¶æŸ¥é›†];
    C --> D[å¤„ç†æ¯ç»„è¾“å…¥];
    D --> E{å¤„ç†å®Œæ‰€æœ‰è¾¹ï¼Ÿ};
    E -->|å¦| F[æŸ¥è¯¢è¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦å±äºåŒä¸€é›†åˆ];
    F --> G{èŠ‚ç‚¹å±äºåŒä¸€é›†åˆï¼Ÿ};
    G -->|æ˜¯| H[è¾“å‡º Yes];
    G -->|å¦| I[åˆå¹¶èŠ‚ç‚¹å¹¶è¾“å‡º No];
    I --> F;
    E -->|æ˜¯| J[ç»Ÿè®¡é›†åˆæ•°é‡å’Œä»£è¡¨å…ƒç´ ];
    J --> K[è¾“å‡ºç»“æœ];
    B -->|æ˜¯| L[ç»“æŸå¾ªç¯];
```

ä»å¾ªç¯è¯»å–è¾“å…¥å¼€å§‹ï¼Œç„¶åä¾æ¬¡å¤„ç†æ¯ç»„è¾“å…¥ï¼Œç›´åˆ°å¤„ç†å®Œæ‰€æœ‰è¾“å…¥ä¸ºæ­¢ã€‚

ä»£ç 

```python
def find(x):
    if parent[x] != x:
        parent[x] = find(parent[x])
    return parent[x]

def union(x, y):
    root_x = find(x)
    root_y = find(y)
    if root_x != root_y:
        parent[root_y] = root_x

while True:
    try:
        n, m = map(int, input().split())
        parent = list(range(n + 1))

        for _ in range(m):
            a, b = map(int, input().split())
            if find(a) == find(b):
                print('Yes')
            else:
                print('No')
                union(a, b)

        unique_parents = set(find(x) for x in range(1, n + 1))  # è·å–ä¸åŒé›†åˆçš„æ ¹èŠ‚ç‚¹
        ans = sorted(unique_parents)  # è¾“å‡ºæœ‰å†°é˜”è½çš„æ¯å­ç¼–å·
        print(len(ans))
        print(*ans)

    except EOFError:
        break
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240507233926946](E:\BaiduSyncdisk\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°æ®ç»“æ„ä¸ç®—æ³•B\Assignments\AssignmentB\assignmentB.assets\image-20240507233926946.png)





### 05443: å…”å­ä¸æ¨±èŠ±

http://cs101.openjudge.cn/practice/05443/



æ€è·¯ï¼š

1. **å‡½æ•° `dijkstra(graph, start, end, P)`:**
   - è¿™ä¸ªå‡½æ•°ç”¨äºæ‰§è¡Œ Dijkstra ç®—æ³•æ¥æ‰¾å‡ºå›¾ `graph` ä¸­ä»èµ·å§‹ç‚¹ `start` åˆ°ç»“æŸç‚¹ `end` çš„æœ€çŸ­è·¯å¾„ã€‚
   - åˆå§‹åŒ–è·ç¦»å­—å…¸ `dist`ï¼Œå…¶ä¸­é”®æ˜¯å›¾ä¸­çš„èŠ‚ç‚¹ï¼Œå€¼æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œè¡¨ç¤ºåˆ°è¾¾è¯¥èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»å’Œè·¯å¾„ã€‚
   - ä½¿ç”¨å † `pos` æ¥å­˜å‚¨å¾…å¤„ç†çš„èŠ‚ç‚¹ï¼Œåˆå§‹æ—¶å°†èµ·å§‹èŠ‚ç‚¹æ”¾å…¥å †ä¸­ã€‚
   - ä¸æ–­ä»å †ä¸­å¼¹å‡ºè·ç¦»æœ€å°çš„èŠ‚ç‚¹ï¼Œæ›´æ–°ä¸è¯¥èŠ‚ç‚¹ç›¸é‚»çš„èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»å’Œè·¯å¾„ï¼Œå¹¶å°†å…¶åŠ å…¥å †ä¸­ã€‚
   - å½“å †ä¸ºç©ºæ—¶ï¼Œè¡¨ç¤ºæ‰€æœ‰èŠ‚ç‚¹éƒ½å·²å¤„ç†å®Œæ¯•ï¼Œè¿”å›ç»“æŸèŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚

2. **ä¸»è¦ä»£ç :**
   - è¯»å–è¾“å…¥ `P`ï¼Œè¡¨ç¤ºåœ°ç‚¹çš„æ•°é‡ã€‚
   - åˆå§‹åŒ–ç©ºå­—å…¸ `graph`ï¼Œç”¨äºå­˜å‚¨åœ°ç‚¹é—´çš„è·ç¦»ã€‚
   - æ ¹æ®è¾“å…¥æ„å»ºåœ°ç‚¹çš„è·ç¦»å›¾ã€‚
   - å¯¹äºæ¯ä¸ªæŸ¥è¯¢ï¼š
     - ä½¿ç”¨ Dijkstra ç®—æ³•æ‰¾å‡ºæœ€çŸ­è·¯å¾„ã€‚
     - æ ¹æ®è·¯å¾„æ‰“å°å‡ºå¯¹åº”çš„èŠ‚ç‚¹å’Œè·ç¦»ã€‚

```mermaid
graph TD;
    A[è¯»å–åœ°ç‚¹æ•°é‡] --> B{è¿˜æœ‰æ›´å¤šåœ°ç‚¹ï¼Ÿ};
    B -->|æ˜¯| C[åˆå§‹åŒ–åœ°ç‚¹é—´è·ç¦»å›¾];
    C --> D{è¿˜æœ‰æ›´å¤šè·ç¦»ä¿¡æ¯ï¼Ÿ};
    D -->|æ˜¯| E[æ„å»ºè·ç¦»å›¾];
    E --> D;
    D --> F{è¿˜æœ‰æ›´å¤šæŸ¥è¯¢ï¼Ÿ};
    F -->|æ˜¯| G[æ‰§è¡Œ Dijkstra ç®—æ³•];
    G --> H[æ‰“å°æœ€çŸ­è·¯å¾„];
    H --> F;
    F -->|å¦| I[ç»“æŸ];
```

ä»è¯»å–åœ°ç‚¹æ•°é‡å¼€å§‹ï¼Œç„¶åä¾æ¬¡æ„å»ºè·ç¦»å›¾ã€æ‰§è¡Œ Dijkstra ç®—æ³•ä»¥åŠæ‰“å°æœ€çŸ­è·¯å¾„ï¼Œç›´åˆ°å¤„ç†å®Œæ‰€æœ‰æŸ¥è¯¢ã€‚

ä»£ç 

```python
import heapq
import math
def dijkstra(graph,start,end,P):
    if start == end: return []
    dist = {i:(math.inf,[]) for i in graph}
    dist[start] = (0,[start])
    pos = []
    heapq.heappush(pos,(0,start,[]))
    while pos:
        dist1,current,path = heapq.heappop(pos)
        for (next,dist2) in graph[current].items():
            if dist2+dist1 < dist[next][0]:
                dist[next] = (dist2+dist1,path+[next])
                heapq.heappush(pos,(dist1+dist2,next,path+[next]))
    return dist[end][1]

P = int(input())
graph = {input():{} for _ in range(P)}
for _ in range(int(input())):
    place1,place2,dist = input().split()
    graph[place1][place2] = graph[place2][place1] = int(dist)

for _ in range(int(input())):
    start,end = input().split()
    path = dijkstra(graph,start,end,P)
    s = start
    current = start
    for i in path:
        s += f'->({graph[current][i]})->{i}'
        current = i
    print(s)
```



ä»£ç è¿è¡Œæˆªå›¾

![image-20240507234138592](E:\BaiduSyncdisk\å¤§å­¦å­¦ä¹ \2024æ˜¥\æ•°æ®ç»“æ„ä¸ç®—æ³•B\Assignments\AssignmentB\assignmentB.assets\image-20240507234138592.png)





## 2. å­¦ä¹ æ€»ç»“å’Œæ”¶è·

å…«çš‡åè®©æˆ‘æ„è¯†åˆ°åŸæ¥æˆ‘å¤§ä¸€çš„æ—¶å€™é‚£ä¹ˆå‰å®³ğŸ˜‚





